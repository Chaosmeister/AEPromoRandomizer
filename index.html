<html>
    <head>
        <title>AE Promovid randomizer</title>
        <meta http-equiv='cache-control' content='no-cache'>
        <meta http-equiv='expires' content='0'>
        <meta http-equiv='pragma' content='no-cache'>
    </head>
    <body>
        <div id="player"></div>
        
        <script>
            var tag = document.createElement('script');
            
            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            
            var player;
            
            function onYouTubeIframeAPIReady() {
                player = new YT.Player('player', {
                    events: {
                        'onReady': onPlayerReady
                    },
                    playerVars:
                    {
                        listType:'playlist',
                        list: 'PLxah0-gDPl5qF56PXDv5aG_K0KiwYz3hi'
                    }
                });
            }
            
            function onPlayerReady(event) {
                var Videos = 2;
                var RandomVideo = Math.random() * Videos; 
                setTimeout(() => {
                    player.playVideoAt(RandomVideo);
                    console.log("go " + RandomVideo);
                }, 600);
            }
        </script>
    </body>
</html>
